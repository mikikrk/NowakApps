/* Base styles & design system for Nowak Apps */
:root {
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  --color-bg: #ffffff;
  --color-bg-alt: #f5f7fa;
  --color-surface: #ffffff;
  --color-border: #e2e8f0;
  --color-text: #1a2433;
  --color-text-dim: #4a5a70;
  --color-accent: #2563eb;
  --color-accent-hover: #1d4ed8;
  --color-accent-ring: 40 95% 55%;
  --color-danger: #dc2626;
  --color-warn: #d97706;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.1);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,.08), 0 2px 4px -1px rgba(0,0,0,.06);
  --grad-accent: linear-gradient(135deg,#2563eb,#3b82f6 40%,#6366f1);
  --header-height: 64px;
  color-scheme: light;
}

html.dark {
  --color-bg: #0f172a;
  --color-bg-alt: #162239;
  --color-surface: #1e293b;
  --color-border: #253349;
  --color-text: #f1f5f9;
  --color-text-dim: #94a3b8;
  --color-accent: #3b82f6;
  --color-accent-hover: #60a5fa;
  --grad-accent: linear-gradient(135deg,#1d4ed8,#2563eb 40%,#6366f1);
  color-scheme: dark;
}

* { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; font-family: var(--font-sans); scroll-behavior: smooth; }
body { margin:0; background: var(--color-bg); color: var(--color-text); line-height:1.55; font-size:16px; }

img,svg,video { max-width:100%; height:auto; }
img { display:block; }

h1,h2,h3,h4 { line-height:1.15; font-weight:600; letter-spacing:-.02em; }
h1 { font-size:clamp(2.2rem,5vw,3.2rem); margin:.2em 0 .4em; }
h2 { font-size:clamp(1.6rem,3.2vw,2.2rem); margin:2.5rem 0 1rem; }
h3 { font-size:1.25rem; margin:1.5rem 0 .75rem; }

p { margin:0 0 1rem; }
a { color: var(--color-accent); text-decoration:none; }
a:hover,a:focus-visible { text-decoration:underline; }

/* Layout */
.site-header { position:sticky; top:0; z-index:40; background:rgba(255,255,255,.85); backdrop-filter:blur(10px); border-bottom:1px solid var(--color-border); }
html.dark .site-header { background:rgba(15,23,42,.85); }
.header-inner { display:flex; align-items:center; gap:1.25rem; padding:.75rem clamp(1rem,4vw,3rem); max-width:1200px; margin:0 auto; }
.brand { display:flex; align-items:center; gap:.6rem; font-weight:600; font-size:1.05rem; }
.brand-logo { width:40px; height:40px; background:var(--grad-accent); border-radius:12px; display:grid; place-items:center; font-weight:700; color:#fff; font-size:.85rem; letter-spacing:.5px; }

.nav { display:flex; gap:.75rem; flex-wrap:wrap; }
.nav a { padding:.55rem .9rem; border-radius:.55rem; font-weight:500; color:var(--color-text-dim); line-height:1; position:relative; }
.nav a:hover, .nav a:focus-visible { background:var(--color-bg-alt); color:var(--color-text); text-decoration:none; }
html.dark .nav a:hover, html.dark .nav a:focus-visible { background:#223149; }
.nav a.active { background:var(--color-accent); color:#fff; box-shadow:0 0 0 1px rgba(255,255,255,.1),0 1px 2px rgba(0,0,0,.3); }

.grow { flex:1 1 auto; }
.theme-toggle { background:var(--color-surface); border:1px solid var(--color-border); color:var(--color-text-dim); padding:.55rem .85rem; border-radius:.6rem; display:flex; align-items:center; gap:.55rem; cursor:pointer; font:inherit; line-height:1; box-shadow:var(--shadow-sm); }
.theme-toggle:hover { color:var(--color-text); }
html.dark .theme-toggle { background:#223149; }

main { max-width:1200px; margin:0 auto; padding:0 clamp(1rem,4vw,3rem) 4rem; }

.hero { padding:4.5rem 0 3.5rem; display:grid; gap:3rem; align-items:center; }
.hero-grid { display:grid; gap:3rem; }
@media (min-width: 900px) { .hero-grid { grid-template-columns: 1fr 1fr; } }
.badge-row { display:flex; gap:.75rem; flex-wrap:wrap; margin-bottom:1.25rem; }
.badge { background:var(--color-bg-alt); color:var(--color-text-dim); padding:.4rem .75rem; font-size:.75rem; font-weight:500; border-radius:999px; letter-spacing:.5px; text-transform:uppercase; }
html.dark .badge { background:#223149; }
.headline-gradient { background:var(--grad-accent); -webkit-background-clip:text; color:transparent; }
.lead { font-size:1.15rem; max-width:56ch; }
.cta-row { display:flex; gap:1rem; flex-wrap:wrap; margin:1.5rem 0 0; }
.button { --btn-bg: var(--color-accent); --btn-color: #fff; --btn-bg-hover: var(--color-accent-hover); position:relative; appearance:none; cursor:pointer; border:none; background:var(--btn-bg); color:var(--btn-color); padding:.9rem 1.3rem; font-weight:600; font-size:.95rem; border-radius:.8rem; box-shadow:var(--shadow-sm); display:inline-flex; align-items:center; gap:.55rem; text-decoration:none; }
.button:hover { background:var(--btn-bg-hover); text-decoration:none; }
.button.outline { --btn-bg: var(--color-bg-alt); --btn-color: var(--color-text); --btn-bg-hover: var(--color-bg-alt); border:1px solid var(--color-border); }
html.dark .button.outline { --btn-bg:#223149; --btn-bg-hover:#2c3c55; --btn-color: var(--color-text); }
.button.outline:hover { box-shadow:var(--shadow-sm); }

/* Cards & grids */
.section { padding:3rem 0; }
.cards-grid { display:grid; gap:1.75rem; margin-top:1.5rem; }
@media (min-width:700px){ .cards-grid { grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); } }
.card { background:var(--color-surface); border:1px solid var(--color-border); border-radius:1rem; display:flex; flex-direction:column; overflow:hidden; position:relative; box-shadow:var(--shadow-sm); }
.card:hover { border-color:var(--color-accent); }
.card-media { aspect-ratio:16/9; background:linear-gradient(135deg,#dce6f3,#f3f6fa); display:flex; align-items:center; justify-content:center; font-weight:600; font-size:1.1rem; color:#334155; position:relative; overflow:hidden; }
.card-media.banner { background-size:cover; background-position:center; background-repeat:no-repeat; }
.card-media.banner::after { content:""; position:absolute; inset:0; background:linear-gradient(to bottom,rgba(0,0,0,.15),rgba(0,0,0,.55)); mix-blend-mode:normal; }
.card-media-label { position:absolute; top:0; left:0; padding:.55rem .85rem; font-size:.65rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; background:rgba(0,0,0,.6); color:#fff; border-bottom-right-radius:.6rem; backdrop-filter:blur(2px); }
html.dark .card-media { background:linear-gradient(135deg,#223149,#1e293b); color:#cbd5e1; }
.card-media.has-logo { font-size:0; }
.card-media img.card-logo { width:50%; max-width:140px; height:auto; object-fit:contain; display:block; filter:drop-shadow(0 4px 6px rgba(0,0,0,.25)); }
@media (min-width:700px){ .card-media img.card-logo { width:40%; } }
.card-body { padding:1.1rem 1.1rem 1.3rem; display:flex; flex-direction:column; gap:.9rem; }
.card h3 { margin:0; font-size:1.05rem; display:flex; align-items:center; gap:.55rem; }
.card p { margin:0; font-size:.9rem; color:var(--color-text-dim); }
.tech-tags { display:flex; flex-wrap:wrap; gap:.4rem; margin-top:.25rem; }
.tech-tags span { background:var(--color-bg-alt); color:var(--color-text-dim); font-size:.65rem; padding:.3rem .55rem; border-radius:.5rem; letter-spacing:.5px; text-transform:uppercase; font-weight:600; }
html.dark .tech-tags span { background:#223149; }
.card-actions { margin-top:auto; display:flex; flex-wrap:wrap; gap:.55rem; }
.card-actions a { font-size:.7rem; letter-spacing:.5px; font-weight:600; padding:.4rem .7rem; background:var(--color-bg-alt); color:var(--color-text-dim); border-radius:.5rem; text-transform:uppercase; }
.card-actions a:hover { background:var(--color-accent); color:#fff; text-decoration:none; }
html.dark .card-actions a { background:#223149; }
.card-link, .card-link:visited { text-decoration:none; color:inherit; display:flex; flex-direction:column; }
.card-link:hover, .card-link:focus-visible { text-decoration:none; }
.card-link:hover { border-color:var(--color-accent); }

/* Talks */
.talk { border:1px solid var(--color-border); background:var(--color-surface); border-radius:1.2rem; padding:1.4rem 1.5rem 1.7rem; margin:0 0 2rem; box-shadow:var(--shadow-sm); }
.talk-header { display:flex; flex-direction:column; gap:.75rem; }
.talk-title { margin:0; font-size:1.35rem; }
.talk-meta { display:flex; flex-wrap:wrap; gap:.5rem; font-size:.7rem; text-transform:uppercase; letter-spacing:.5px; color:var(--color-text-dim); }
.toggle-abstract { background:none; border:none; color:var(--color-accent); font:inherit; cursor:pointer; padding:0; }
.video-tabs { margin-top:1rem; }
.tablist { display:flex; gap:.4rem; flex-wrap:wrap; margin:0 0 .75rem; }
.tablist button { background:var(--color-bg-alt); border:1px solid var(--color-border); color:var(--color-text-dim); padding:.45rem .8rem; border-radius:.6rem; cursor:pointer; font:inherit; font-size:.75rem; font-weight:600; }
html.dark .tablist button { background:#223149; }
.tablist button[aria-selected="true"] { background:var(--color-accent); color:#fff; border-color:var(--color-accent); }
.video-frame { aspect-ratio:16/9; width:100%; border:1px solid var(--color-border); border-radius:.8rem; overflow:hidden; background:#000; }
.resources { display:flex; flex-wrap:wrap; gap:.5rem; margin-top:1rem; }
.resources a { background:var(--color-bg-alt); padding:.5rem .8rem; font-size:.7rem; text-transform:uppercase; letter-spacing:.5px; border-radius:.6rem; font-weight:600; color:var(--color-text-dim); border:1px solid var(--color-border); }
.resources a:hover { background:var(--color-accent); color:#fff; text-decoration:none; }
html.dark .resources a { background:#223149; }
.events-list { margin:.75rem 0 0; padding:0; list-style:none; display:flex; flex-wrap:wrap; gap:.55rem; }
.events-list li { background:var(--color-bg-alt); padding:.4rem .65rem; font-size:.65rem; border-radius:.55rem; letter-spacing:.5px; color:var(--color-text-dim); }
html.dark .events-list li { background:#223149; }

/* Footer */
.site-footer { margin-top:4rem; background:var(--color-bg-alt); border-top:1px solid var(--color-border); padding:2.5rem clamp(1rem,4vw,3rem); color:var(--color-text-dim); font-size:.85rem; }
html.dark .site-footer { background:#162239; }
.footer-inner { max-width:1200px; margin:0 auto; display:grid; gap:2rem; }
@media (min-width:800px){ .footer-inner { grid-template-columns: 1fr auto auto; } }
.footer-brand { display:flex; gap:.6rem; align-items:center; font-weight:600; color:var(--color-text); font-size:1rem; }
.socials { display:flex; gap:.75rem; }
.socials a { width:40px; height:40px; background:var(--color-surface); border:1px solid var(--color-border); display:grid; place-items:center; border-radius:.7rem; color:var(--color-text-dim); }
.socials a:hover { color:var(--color-text); text-decoration:none; }
html.dark .socials a { background:#223149; }
.footer-bottom { margin-top:1.5rem; font-size:.7rem; letter-spacing:.5px; display:flex; flex-wrap:wrap; gap:.75rem; }

/* Accessibility helpers */
.sr-only { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { position:fixed; left:1rem; top:1rem; width:auto; height:auto; background:var(--color-accent); color:#fff; padding:.75rem 1rem; border-radius:.6rem; z-index:100; box-shadow:var(--shadow-md); }

/* Utilities */
.hidden { display:none !important; }
.muted { color:var(--color-text-dim); }
.separator { height:1px; background:var(--color-border); margin:3rem 0; }
.max-w-prose { max-width:70ch; }
.flex { display:flex; }
.flex-col { flex-direction:column; }
.gap-1 { gap:.25rem; }
.gap-2 { gap:.5rem; }
.gap-4 { gap:1rem; }
.text-center { text-align:center; }
.center { display:grid; place-items:center; }
.tagline { font-weight:500; font-size:1.2rem; color:var(--color-text-dim); }

/* Focus ring */
:focus-visible { outline:2px solid var(--color-accent); outline-offset:2px; }

/* Print minimal */
@media print { .site-header, .site-footer, .theme-toggle, .cta-row, .tablist, .resources a[href="#"] { display:none !important; } body { font-size:12pt; } }

.app-logo-box { width:54px; height:54px; border-radius:.9rem; background:var(--color-bg-alt); display:flex; align-items:center; justify-content:center; flex-shrink:0; border:1px solid var(--color-border); box-shadow:var(--shadow-sm); }
html.dark .app-logo-box { background:#223149; }
.app-logo-box img { width:70%; height:70%; object-fit:contain; display:block; }
@media (min-width:700px){ .app-logo-box { width:60px; height:60px; } }
.app-header-line { display:flex; align-items:center; gap:.9rem; }
.app-header-line h3 { margin:0; font-size:1.05rem; }
.app-tagline { margin:0; font-size:.7rem; font-weight:600; letter-spacing:.6px; text-transform:uppercase; color:var(--color-text-dim); }
section[id] { scroll-margin-top: calc(var(--header-height) + 24px); }
